---
import { breadcrumbSchema } from '@/utils/seo';
import { absoluteUrl } from '@/utils/seo';

const { items } = Astro.props as { items: { label: string; href: string }[] };
const jsonLd = breadcrumbSchema(items.map((item) => ({ name: item.label, item: absoluteUrl(item.href) })));
---
<nav aria-label="Breadcrumb" class="text-sm text-gray-700">
  <ol class="flex flex-wrap items-center gap-2">
    {items.map((item, idx) => (
      <li>
        {idx > 0 && <span class="mr-2">/</span>}
        {idx === items.length - 1 ? <span aria-current="page">{item.label}</span> : <a href={item.href} class="underline">{item.label}</a>}
      </li>
    ))}
  </ol>
</nav>
<script type="application/ld+json" set:html={JSON.stringify(jsonLd)} />
